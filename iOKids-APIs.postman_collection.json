{
	"info": {
		"name": "iOKids-APIs",
		"_postman_id": "e947da18-7ccb-3c69-b734-1236e697a0fa",
		"description": "iOKids offers a range of APIs that enable developers to build a kids or family focused app or smart toy. This Postman collection contains one call per API to provide developers with a functional example of how to use the APIs.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Refresh Your Access Token",
			"description": "",
			"item": [
				{
					"name": "Refresh Access Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "54d84b96-1d4e-4a22-8e40-2e157834da2a",
								"type": "text/javascript",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.environment.set(\"refreshToken\", jsonData[\"refresh_token\"]);",
									"pm.environment.set(\"accessToken\", jsonData[\"access_token\"]);"
								]
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"grant_type\": \"refresh_token\",\n\t\"refresh_token\": \"{{refreshToken}}\",\n\t\"redirect_uri\": \"https://www.getpostman.com/oauth2/callback\",\n\t\"client_id\": \"{{clientId}}\",\n\t\"client_secret\": \"{{clientSecret}}\"\n}"
						},
						"url": {
							"raw": "https://{{ssoServer}}/oauth/token",
							"protocol": "https",
							"host": [
								"{{ssoServer}}"
							],
							"path": [
								"oauth",
								"token"
							]
						},
						"description": "Submit a refresh token for a new access token."
					},
					"response": []
				}
			]
		},
		{
			"name": "Profile",
			"description": "",
			"item": [
				{
					"name": "My Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {},
						"url": {
							"raw": "https://{{userServer}}/v1/my/profile",
							"protocol": "https",
							"host": [
								"{{userServer}}"
							],
							"path": [
								"v1",
								"my",
								"profile"
							]
						},
						"description": "Retrieve my profile"
					},
					"response": []
				},
				{
					"name": "My Cover Photo",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {},
						"url": {
							"raw": "https://{{userServer}}/v1/my/profile/cover",
							"protocol": "https",
							"host": [
								"{{userServer}}"
							],
							"path": [
								"v1",
								"my",
								"profile",
								"cover"
							]
						},
						"description": "Retrieve my cover photo"
					},
					"response": []
				},
				{
					"name": "My Kids",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {},
						"url": {
							"raw": "https://{{userServer}}/v1/kids",
							"protocol": "https",
							"host": [
								"{{userServer}}"
							],
							"path": [
								"v1",
								"kids"
							]
						},
						"description": "Retrieve my kids"
					},
					"response": []
				}
			]
		},
		{
			"name": "Friends",
			"description": "Retrieve the user's list of friends",
			"item": [
				{
					"name": "My Friends",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {},
						"url": {
							"raw": "https://{{userServer}}/v1/my/friends",
							"protocol": "https",
							"host": [
								"{{userServer}}"
							],
							"path": [
								"v1",
								"my",
								"friends"
							]
						},
						"description": "Retrieve the list of friends for this user"
					},
					"response": []
				}
			]
		},
		{
			"name": "Notify",
			"description": "Send and retrieve application notifications.",
			"item": [
				{
					"name": "Get Message List",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {},
						"url": {
							"raw": "https://{{messagingServer}}/v1/list",
							"protocol": "https",
							"host": [
								"{{messagingServer}}"
							],
							"path": [
								"v1",
								"list"
							]
						},
						"description": "Retrieve a list of messages for me"
					},
					"response": []
				},
				{
					"name": "Get A Message",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {},
						"url": {
							"raw": "https://{{messagingServer}}/?notificationId=NOTIFICATION_ID",
							"protocol": "https",
							"host": [
								"{{messagingServer}}"
							],
							"path": [
								""
							],
							"query": [
								{
									"key": "notificationId",
									"value": "NOTIFICATION_ID",
									"equals": true
								}
							]
						},
						"description": "Retrieve a message"
					},
					"response": []
				},
				{
					"name": "Acknowledge A Message",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"notificationid\": \"NOTIFICATION_ID\",\n\t\"acknowledged\": true\n}"
						},
						"url": {
							"raw": "https://{{messagingServer}}/acknowledge",
							"protocol": "https",
							"host": [
								"{{messagingServer}}"
							],
							"path": [
								"acknowledge"
							]
						},
						"description": "Acknowledge a message"
					},
					"response": []
				},
				{
					"name": "Acknowledge All Messages",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{messagingServer}}/acknowledge",
							"protocol": "https",
							"host": [
								"{{messagingServer}}"
							],
							"path": [
								"acknowledge"
							]
						},
						"description": "Acknowledge all messages at once"
					},
					"response": []
				}
			]
		},
		{
			"name": "Application User Data",
			"description": "",
			"item": [
				{
					"name": "Get Application",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"key\": \"user\",\n\t\"value\": \"data\"\n}"
						},
						"url": {
							"raw": "https://{{appServer}}/v1/app?appId={{appId}}",
							"protocol": "https",
							"host": [
								"{{appServer}}"
							],
							"path": [
								"v1",
								"app"
							],
							"query": [
								{
									"key": "appId",
									"value": "{{appId}}",
									"equals": true
								}
							]
						},
						"description": "Retrieve information about this application"
					},
					"response": []
				},
				{
					"name": "Get Application User Data",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"key\": \"user\",\n\t\"value\": \"data\"\n}"
						},
						"url": {
							"raw": "https://{{appServer}}/v1/app/data?appId={{appId}}",
							"protocol": "https",
							"host": [
								"{{appServer}}"
							],
							"path": [
								"v1",
								"app",
								"data"
							],
							"query": [
								{
									"key": "appId",
									"value": "{{appId}}",
									"equals": true
								}
							]
						},
						"description": "Retrieve the data stored for this user"
					},
					"response": []
				},
				{
					"name": "Store Application User Data",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"key\": \"user\",\n    \"value\": \"From Postman\"\n}"
						},
						"url": {
							"raw": "https://{{appServer}}/v1/app/data?appId={{appId}}",
							"protocol": "https",
							"host": [
								"{{appServer}}"
							],
							"path": [
								"v1",
								"app",
								"data"
							],
							"query": [
								{
									"key": "appId",
									"value": "{{appId}}",
									"equals": true
								}
							]
						},
						"description": "Store data for this user"
					},
					"response": []
				},
				{
					"name": "OPEN Get Application Bucket Data",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"key\": \"user\",\n\t\"value\": \"data\"\n}"
						},
						"url": {
							"raw": "https://{{appServer}}/v1/app/data?appId={{appId}}",
							"protocol": "https",
							"host": [
								"{{appServer}}"
							],
							"path": [
								"v1",
								"app",
								"data"
							],
							"query": [
								{
									"key": "appId",
									"value": "{{appId}}",
									"equals": true
								}
							]
						},
						"description": "Retrieve the data shared between users"
					},
					"response": []
				},
				{
					"name": "OPEN Store Application Bucket Data",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"key\": \"user\",\n    \"value\": \"From Postman\"\n}"
						},
						"url": {
							"raw": "https://{{appServer}}/v1/app/data?appId={{appId}}",
							"protocol": "https",
							"host": [
								"{{appServer}}"
							],
							"path": [
								"v1",
								"app",
								"data"
							],
							"query": [
								{
									"key": "appId",
									"value": "{{appId}}",
									"equals": true
								}
							]
						},
						"description": "Store application data shared between users"
					},
					"response": []
				}
			]
		},
		{
			"name": "Images",
			"description": "Retrieve images by ID",
			"item": [
				{
					"name": "Image by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {},
						"url": {
							"raw": "https://{{imageServer}}/v1/image/static/IMAGE_ID",
							"protocol": "https",
							"host": [
								"{{imageServer}}"
							],
							"path": [
								"v1",
								"image",
								"static",
								"IMAGE_ID"
							]
						},
						"description": "Retrieve an Image by Id"
					},
					"response": []
				},
				{
					"name": "Store Image",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"data\": \"BASE 64 ENCODED JPEG, e.g. \"\n}"
						},
						"url": {
							"raw": "https://{{imageServer}}/v1/image",
							"protocol": "https",
							"host": [
								"{{imageServer}}"
							],
							"path": [
								"v1",
								"image"
							]
						},
						"description": "Store an image"
					},
					"response": []
				}
			]
		},
		{
			"name": "Search",
			"description": "Search for application users",
			"item": [
				{
					"name": "Search",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {},
						"url": {
							"raw": "https://{{userServer}}/v1/search/user?term=SEARCH_TERM",
							"protocol": "https",
							"host": [
								"{{userServer}}"
							],
							"path": [
								"v1",
								"search",
								"user"
							],
							"query": [
								{
									"key": "term",
									"value": "SEARCH_TERM",
									"equals": true
								}
							]
						},
						"description": "Search for a user based on a search term"
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "7eb0a063-5892-437c-aac8-bb446459a956",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "28396d93-3f03-48f9-a7c6-c93e77dd86c0",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "e99d18a1-07ef-4499-99c3-8bab6c15ab9f",
			"key": "ssoServer",
			"value": "sandbox-sso.mybluemix.net",
			"type": "text"
		},
		{
			"id": "636dcde6-b4c1-4bfe-afb4-165da4cf1823",
			"key": "userServer",
			"value": "sandbox-api-user-server.mybluemix.net",
			"type": "text"
		},
		{
			"id": "d1e2313a-6921-4bc0-b8c2-72f263739b52",
			"key": "appServer",
			"value": "sandbox-api-app-server.mybluemix.net",
			"type": "text"
		},
		{
			"id": "8edb2a3e-4155-460c-ae94-74c818a647c6",
			"key": "messagingServer",
			"value": "sandbox-api-messaging-server.mybluemix.net",
			"type": "text"
		},
		{
			"id": "230f044f-bbed-4a2f-a507-ce4289e8317d",
			"key": "imageServer",
			"value": "sandbox-api-image-server.mybluemix.net",
			"type": "text"
		}
	]
}